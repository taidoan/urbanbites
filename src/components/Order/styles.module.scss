@use "./../../styles/abstracts/_index" as abstracts;

.locationSelector {
  align-items: center;
  display: grid;
  gap: abstracts.rem(16);
  grid-template-columns: 1fr auto;
  justify-content: space-between;
  position: relative;
}

.locationSelectorList {
  background-color: #f7f6f6;
  border: 1px solid var(--clr-light-500);
  border-radius: abstracts.rem(12);
  box-shadow: abstracts.$card-box-shadow-soft;
  left: 0;
  list-style-type: none;
  padding: 0;
  position: absolute;
  top: 100%;
  width: abstracts.rem(200);
  z-index: var(--z-index-modal);
  li {
    cursor: pointer;
    padding-block: abstracts.size-clamp(abstracts.rem(12), abstracts.rem(16));
    padding-inline: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(20));
  }

  li + li {
    border-top: 1px solid var(--clr-light-500);
  }
}

.locationSelectButton {
  --size: #{abstracts.rem(42)};
  cursor: pointer;

  .locationSelectIcon {
    color: var(--clr-light-600);
    height: var(--size);
    width: var(--size);
  }
}

.orderMethod {
  --background-clr: var(--clr-beige-500);

  background-color: var(--background-clr);
  border-radius: abstracts.rem(16);
  display: grid;
  gap: abstracts.rem(6);
  grid-template-columns: 1fr 1fr;
  padding: abstracts.rem(8);
  width: 100%;

  .orderMethodOption {
    --icon-gap: #{abstracts.rem(8)};

    @include abstracts.mq("md") {
      --icon-gap: #{abstracts.rem(10)};
    }

    align-items: center;
    background-color: var(--background-clr);
    border: none;
    border-radius: abstracts.rem(12);
    color: var(--clr-secondary-100);
    column-gap: var(--icon-gap);
    cursor: pointer;
    display: block;
    display: flex;
    font-size: var(--fs-body-small);
    justify-content: center;
    padding-block: abstracts.size-clamp(abstracts.rem(12), abstracts.rem(16));
    padding-inline: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(20));
    transition: all var(--transition-speed);

    svg {
      color: var(--clr-beige-700);
      transition: color var(--transition-speed);
    }
  }

  .orderMethodOptionActive {
    background-color: var(--clr-beige-200);
    box-shadow: abstracts.$card-box-shadow-soft;
    color: var(--clr-secondary-400);
    font-weight: 700;

    svg {
      color: var(--clr-primary-400);
    }
  }
}

.orderCategory {
  background-color: var(--clr-beige-500);
  border-radius: abstracts.rem(16);
  cursor: pointer;
  padding: abstracts.rem(8);

  .currentCategory {
    background-color: var(--clr-beige-300);
    border-radius: abstracts.rem(12);
    box-shadow: abstracts.$card-box-shadow-soft;
    display: flex;
    justify-content: space-between;
    padding: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(20));

    svg {
      color: var(--clr-tertiary-100);
    }
  }

  .currentCategoryText {
    color: var(--clr-secondary-400);
    font-weight: 700;
  }

  @include abstracts.mq("md") {
    background-color: transparent;
    cursor: initial;
    padding: 0;
  }
}

.orderCategoryList {
  background-color: var(--clr-beige-200);
  border-radius: abstracts.rem(12);
  display: flex;
  flex-direction: column;
  list-style-type: none;
  margin-block-start: abstracts.rem(8);
  overflow: hidden;
  padding: 0;

  .orderCategoryOption + .orderCategoryOption {
    border-top: 1px solid var(--clr-beige-400);
  }

  .orderCategoryOption {
    background-color: var(--clr-beige-200);
    border: none;
    color: var(--clr-tertiary-400);
    cursor: pointer;
    font-size: var(--fs-body-small);
    font-weight: 500;
    padding-block: abstracts.size-clamp(abstracts.rem(12), abstracts.rem(16));
    padding-inline: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(20));
    text-align: left;
  }

  @include abstracts.mq("md") {
    background-color: transparent;
    flex-direction: row;
    flex-wrap: wrap;
    gap: abstracts.rem(12);
    margin-block-start: 0;

    .orderCategoryOption {
      --background-clr: #{abstracts.$tab-background-color};
      --font-clr: var(--clr-tertiary-400);
      --fs-button: #{map-get(abstracts.$project-typography-scale, button)};
      --button-shadow: #{abstracts.$button-hover-shadow};
      --btn-padding-block: #{abstracts.size-clamp(
          abstracts.rem(16),
          abstracts.rem(18)
        )};
      --btn-padding-inline: #{abstracts.size-clamp(
          abstracts.rem(22),
          abstracts.rem(24)
        )};

      align-items: center;
      background: var(--background-clr);
      border: none;
      border-radius: abstracts.rem(12);
      color: var(--font-clr);
      cursor: pointer;
      display: flex;
      font-family: var(--ff-body);
      font-size: var(--fs-button);
      font-weight: 600;
      justify-content: center;
      line-height: 1;
      overflow: hidden;
      padding: var(--btn-padding-block) var(--btn-padding-inline);
      transition: all 0.2s ease;

      @media (hover: hover) {
        &:hover:not(.activeClass) {
          --background-clr: var(--clr-primary-400);
          --font-clr: var(--clr-light-400);
        }
      }

      &.activeClass {
        --background-clr: var(--clr-secondary-400);
        --font-clr: var(--clr-light-400);
        cursor: default;
      }
    }
  }
}

.orderBar {
  background-color: var(--clr-light-400);
  bottom: 0;
  box-shadow: 0 0 abstracts.rem(15) var(--clr-secondary-500);
  left: 0;
  padding-block: abstracts.rem(24);
  padding-inline: abstracts.size-clamp(abstracts.rem(24), abstracts.rem(32));
  position: fixed;
  right: 0;
  width: 100%;
  z-index: var(--z-index-menu-content);

  @include abstracts.mq("md") {
    background-color: initial;
    box-shadow: initial;
    display: flex;
    flex-direction: column;
    padding: initial;
    position: static;
    row-gap: abstracts.rem(32);
    z-index: initial;
  }
}

.orderBasket {
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  background: hsla(22, 26%, 96%, 0.9);
  display: flex;
  flex-direction: column;
  font-size: var(--fs-body-small);
  height: 100dvh;
  left: 0;
  overflow: hidden;
  padding: abstracts.size-clamp(abstracts.rem(24), abstracts.rem(32));
  position: fixed;
  top: 0;
  transform: translateY(-100%);
  transition: transform 0.5s ease-in-out, visibility 0.5s;
  visibility: hidden;
  width: 100%;

  &.orderBasketActive {
    transform: translateY(0);
    visibility: visible;
    z-index: var(--z-index-menu);
  }

  @include abstracts.mq("md") {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: initial;
    background-color: var(--clr-beige-200);
    border-radius: abstracts.rem(16);
    box-shadow: abstracts.$card-box-shadow;
    height: auto;
    padding: 0;
    padding: abstracts.rem(20);
    position: static;
    transform: initial;
    visibility: visible;
  }

  .basketHeader {
    align-items: center;
    display: flex;
    justify-content: space-between;

    .basketCloseButton {
      color: var(--clr-beige-600);
      cursor: pointer;
      font-size: abstracts.size-clamp(abstracts.rem(32), abstracts.rem(48));
    }

    .basketTitle {
      font-size: abstracts.rem(40);
    }
  }

  .basketItemContainer {
    flex-grow: 1;
    overflow-y: auto;

    ul {
      height: 100%;
      list-style-type: none;
      padding: 0;
    }

    li.basketItem {
      align-items: center;
      column-gap: abstracts.rem(16);
      display: grid;
      grid-template-columns: minmax(abstracts.rem(20), auto) 1fr auto;
      padding-block: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(24));
    }

    li + li {
      border-top: abstracts.rem(1) solid var(--clr-cream-400);
    }

    .basketItemQuantityBlock {
      align-items: center;
      column-gap: abstracts.rem(8);
      display: flex;

      .basketItemQuantityIcon {
        color: var(--clr-cream-400);
        cursor: pointer;
        font-size: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(20));
        transition: color var(--transition-speed);

        &:hover {
          color: var(--clr-cream-500);
        }
      }
    }

    .basketItemName {
      font-weight: bold;
    }

    @include abstracts.mq("md") {
      overflow: initial;

      li.basketItem {
        column-gap: abstracts.rem(24);
        grid-template-columns: 1fr auto;
        row-gap: abstracts.rem(8);
      }

      li.basketItem:first-child {
        padding-block-start: 0;
      }

      li.basketItem:last-child {
        padding-block-end: 0;
      }

      .basketItemQuantityBlock {
        grid-column: span 2;
        grid-row: 2 / 3;
      }

      .basketItemName {
        grid-column: 1 / 2;
      }

      .basketItemPrice {
        grid-column: 2 / 3;
      }
    }
  }

  --basketTotalMargin: #{abstracts.rem(24)};

  .basketTotalDivider {
    margin-block-end: 0;
    margin-block-start: var(--basketTotalMargin);
  }

  .basketTotalPrice {
    display: flex;
    justify-content: space-between;
    margin-block: var(--basketTotalMargin);
  }
}

.basketButton {
  align-items: center;
  background-color: var(--clr-primary-400);
  border-radius: abstracts.rem(16);
  color: var(--clr-light-400);
  cursor: pointer;
  display: flex;
  font-size: var(--fs-body-small);
  justify-content: center;
  padding-block: abstracts.size-clamp(abstracts.rem(20), abstracts.rem(24));
  padding-inline: abstracts.rem(24);
  width: 100%;

  &:has(svg) {
    justify-content: space-between;
  }
}

.basketButtonText {
  column-gap: abstracts.rem(8);
  display: flex;

  .basketLabel {
    font-weight: 700;
  }
}

.basketButtonIcon {
  --size: #{abstracts.size-clamp(abstracts.rem(32), abstracts.rem(40))};
  align-items: center;
  background-color: var(--clr-light-400);
  border-radius: 50%;
  display: flex;
  height: var(--size);
  justify-content: center;
  position: relative;
  width: var(--size);

  svg {
    color: var(--clr-primary-400);
    width: abstracts.size-clamp(abstracts.rem(16), abstracts.rem(24));
  }

  .basketItemCount {
    --size: #{abstracts.size-clamp(abstracts.rem(18), abstracts.rem(22))};
    align-items: center;
    background-color: var(--clr-secondary-400);
    border-radius: abstracts.rem(8);
    display: flex;
    font-size: abstracts.rem(12);
    font-weight: bold;
    height: var(--size);
    justify-content: center;
    left: abstracts.size-clamp(abstracts.rem(-6), abstracts.rem(-10));
    position: absolute;
    top: abstracts.size-clamp(abstracts.rem(-3), abstracts.rem(-7));
    width: var(--size);
  }
}
